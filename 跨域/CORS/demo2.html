<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>jsonp</title>
  <style type="text/css">
   .container{
     width: 900px;
     margin: 0 auto;
   }
  </style>
 </head>
 <body>
   <div class="container">
     <ul class="news">
       <li>这是第1行</li>
       <li>这是第2行</li>
       <li>这是第3行</li>
     </ul>
     <button class="change">换一页</button>
   </div>
   <script>
    $('.change').addEventListener('click',function(){

      var xhr = new XMLHttpRequest();
      xhr.open('get','http://b.jrg.com:8080/getNews',true);
      xhr.send();
      xhr.onreadystatechange = function(){
        if(xhr.readyState === 4 && xhr.status === 200){
          appendHtml( JSON.parse(xhr.responseText) )
        }
      }

    })

    function appendHtml(news){
      var html = '';
      for( var i=0; i<news.length; i++){
        html += '<li>' + news[i] + '</li>';
      }
      console.log(html);
      $('.news').innerHTML = html;
    }

    function $(id){
      return document.querySelector(id);
    }
     
   </script>
    
    
 </body> 
  
  
</html>
